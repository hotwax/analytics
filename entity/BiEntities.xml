<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <entity entity-name="DateDimension" package="co.hotwax.bi.dimension" group="analytical">
        <description>Date (days) dimension. The natural key is [dateValue]</description>
        <field name="dimensionId" type="id" is-pk="true">
            <description>Unique identifier of the Date dimension record</description>
        </field>
        <field name="dateValue" type="date">
            <description>The date (day)</description>
        </field>
        <field name="description" type="text-long">
            <description>Full date description</description>
        </field>
        <field name="dayName" type="text-medium">
            <description>The name of the day (Monday, Tuesday, etc...)</description>
        </field>
        <field name="dayOfMonth" type="number-integer">
            <description>The number of the day in the month</description>
        </field>
        <field name="dayOfYear" type="number-integer">
            <description>The number of the day in the year</description>
        </field>
        <field name="monthName" type="text-medium">
            <description>The name of the month (January, February, etc...)</description>
        </field>
        <field name="monthOfYear" type="number-integer">
            <description>The number of the month (1-12)</description>
        </field>
        <field name="yearName" type="number-integer">
            <description>The year (2008, 2009, etc...)</description>
        </field>
        <field name="weekOfMonth" type="number-integer">
            <description>The number of the week in the month</description>
        </field>
        <field name="weekOfYear" type="number-integer">
            <description>The number of the week in the year</description>
        </field>
        <field name="yearMonthDay" type="text-medium">
            <description>YYYY-MM-DD</description>
        </field>
        <field name="yearAndMonth" type="text-medium">
            <description>YYYY-MM</description>
        </field>
        <field name="weekdayType" type="text-medium">
            <description>Weekday indicator (Weekday or Weekend)</description>
        </field>
    </entity>

    <entity entity-name="CurrencyDimension" package="co.hotwax.bi.dimension" group="analytical">
        <description>Currency dimension. The natural key is [currencyId]</description>
        <field name="dimensionId" type="id" is-pk="true">
            <description>Unique identifier of the Currency dimension record</description>
        </field>
        <field name="currencyId" type="id">
            <description>The currency id (natural key).</description>
        </field>
        <field name="description" type="text-long">
            <description>Full currency description</description>
        </field>
    </entity>

    <entity entity-name="ProductDimension" package="co.hotwax.bi.dimension.product" group="analytical">
        <description>Product dimension. The natural key is [productId]</description>
        <field name="dimensionId" type="id" is-pk="true">
            <description>Unique identifier of the Product dimension record</description>
        </field>
        <field name="productId" type="id">
            <description>The natural key. From Product.productId</description>
        </field>
        <field name="productType" type="text-long">
            <description>The product type. From ProductType.description</description>
        </field>
        <field name="brandName" type="text-medium"/>
        <field name="internalName" type="text-long"/>
    </entity>

    <!-- TODO resolve the warnings for the column names, for now used as is migrated from OFBiz  -->
    <entity entity-name="SalesOrderItemFact" package="co.hotwax.bi.fact.order" group="analytical">
        <description>A transaction fact entity with order item grain.</description>
        <field name="orderId" type="id" is-pk="true"/> <!-- degenerate dimension -->
        <field name="orderItemSeqId" type="id" is-pk="true"/> <!-- degenerate dimension -->
        <field name="orderDateDimId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="origCurrencyDimId" type="id"/>
        <field name="billToCustomerDimId" type="id"/> <!-- TODO: implement the dimension -->
        <field name="productCategoryId" type="id"/>
        <field name="productStoreId" type="id"/>
        <field name="salesChannelEnumId" type="id"/>
        <field name="statusId" type="id"/>
        <field name="brand" type="text-medium"/>
        <field name="pod" type="text-medium"/>
        <field name="account" type="text-medium"/>
        <field name="quantity" type="number-decimal">
            <description>Quantity order. From OrderItem.quantity</description>
        </field>
        <field name="extGrossAmount" type="currency-precise">
            <description>Extended gross amount: quantity item multiplied by the unit price.</description>
        </field>
        <field name="extGrossCost" type="currency-precise">
            <description>Extended gross cost: quantity item multiplied by the last price.</description>
        </field>
        <field name="extDiscountAmount" type="currency-precise">
            <description>Extended discount amount.</description>
        </field>
        <field name="extNetAmount" type="currency-precise">
            <description>Extended net amount: gross amount less discounts.</description>
        </field>
        <field name="extShippingAmount" type="currency-precise">
            <description>Extended shipping amount.</description>
        </field>
        <field name="extTaxAmount" type="currency-precise">
            <description>Extended tax amount.</description>
        </field>
        <field name="GS" type="currency-precise">
            <description>Gross Sales: Gross Amount plus Shipping Amount.</description>
        </field>
        <field name="GMS" type="currency-precise">
            <description>Gross Merchandize Sales: Gross Amount.</description>
        </field>
        <field name="GMP" type="currency-precise">
            <description>Gross Merchandize Profit: Gross Merchandize Sales less Gross Cost.</description>
        </field>
        <field name="GSS" type="currency-precise">
            <description>Gross Shipping Sales: Shipping Amount</description>
        </field>
        <field name="GSC" type="currency-precise">
            <description>Gross Shipping Cost</description>
        </field>
        <field name="GSP" type="currency-precise">
            <description>Gross Shipping Profit: Gross Shipping Sales less Gross Shipping Cost.</description>
        </field>
        <field name="GP" type="currency-precise">
            <description>Gross Profit: Gross Merchandize Profit less Gross Shipping Profit.</description>
        </field>
        <field name="countOrder" type="number-decimal">
            <description>Count of order.</description>
        </field>
        <field name="productPromoCode" type="id">
            <description>Product promotion Code.</description>
        </field>
        <relationship type="one" fk-name="SOIF_ORDERDATE" related="DateDimension">
            <key-map field-name="orderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_CURRENCY" related="CurrencyDimension">
            <key-map field-name="origCurrencyDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="InventoryItemFact" package="co.hotwax.bi.fact.product" group="analytical">
        <description>A transaction fact entity with inventory item.</description>
        <field name="inventoryItemId" type="id" is-pk="true"/>
        <field name="facilityId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="origCurrencyDimId" type="id"/>
        <field name="inventoryDateDimId" type="id"/>
        <field name="quantityOnHandTotal" type="number-decimal"/>
        <field name="availableToPromiseTotal" type="number-decimal"/>
        <field name="unitCost" type="number-decimal"/>
        <field name="soldoutAmount" type="number-decimal"/>
        <relationship type="one" fk-name="IIF_INVPRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="IIF_INVCURRENCY" related="CurrencyDimension">
            <key-map field-name="origCurrencyDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="IIF_INVDATE" related="DateDimension">
            <key-map field-name="inventoryDateDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="ShopifyOrderIdentFact" package="co.hotwax.bi.fact.order" group="analytical">
        <field name="orderId" type="id" is-pk="true"/>
        <field name="shopifyOrderId" type="id"/>
        <field name="shopifyOrderNumber" type="id"/>
        <field name="shopifyOrderName" type="text-medium"/>
    </entity>

    <entity entity-name="StoreDimension" package="co.hotwax.report.dimension.store" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="productStoreId" type="id"/>
        <field name="externalId" type="id-long"/>
        <field name="productStoreName" type="text-medium"/>
        <field name="payToPartyId" type="id"/>
        <field name="groupName" type="text-medium"/>
        <field name="facilityId" type="id"/>
        <field name="facilityTypeId" type="id"/>
        <field name="facilityType" type="id"/>
        <field name="facilityName" type="text-medium"/>
        <field name="ownerPartyId" type="id"/>
        <field name="ownerPartyName" type="text-medium"/>
        <field name="facilityAddress1" type="text-long"/>
        <field name="facilityAddress2" type="text-long"/>
        <field name="facilityCity" type="text-medium"/>
        <field name="facilityState" type="text-medium"/>
        <field name="facilityCountry" type="text-medium"/>
        <field name="facilityContactNumber" type="text-medium"/>
    </entity>

    <extend-entity entity-name="ProductDimension" package="co.hotwax.bi.dimension.product">
        <field name="productName" type="text-medium"/>
        <field name="productTypeId" type="id"/>
        <field name="parentProductId" type="id"/>
        <field name="parentProductName" type="text-medium"/>
        <field name="isExpired" type="text-indicator"/>
        <field name="primaryCategoryId" type="id"/>
        <field name="primaryCategoryName" type="text-medium"/>
        <field name="variationType" type="text-medium"/>
        <field name="features" type="text-very-long"/>
        <field name="featureColor" type="text-long"/>
        <field name="featureSize" type="text-long"/>
        <field name="categoryDimId" type="id"/>
        <field name="productUpca" type="id-long"/>
        <relationship type="one" fk-name="PD_CD" related="CategoryDimension">
            <key-map field-name="categoryDimId" related="dimensionId"/>
        </relationship>
    </extend-entity>

    <entity entity-name="CustomerShipmentDimension" package="co.hotwax.report.dimension.customershipment" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="shipmentId" type="id"/>
        <field name="shipmentType" type="text-medium"/>
        <field name="billToCustomerId" type="id"/>
        <field name="billToCustomerName" type="text-medium"/>
        <field name="billToCustContactMechId" type="id"/>
        <field name="billToAddress1" type="text-medium"/>
        <field name="billToAddress2" type="text-medium"/>
        <field name="billToCity" type="text-medium"/>
        <field name="billToPostalCode" type="text-short"/>
        <field name="billToState" type="text-medium"/>
        <field name="billToCountry" type="text-medium"/>
        <field name="shipToCustomerId" type="id"/>
        <field name="shipToCustomerName" type="text-medium"/>
        <field name="shipToCustContactMechId" type="id"/>
        <field name="shipToAddress1" type="text-medium"/>
        <field name="shipToAddress2" type="text-medium"/>
        <field name="shipToCity" type="text-medium"/>
        <field name="shipToPostalCode" type="text-short"/>
        <field name="shipToState" type="text-medium"/>
        <field name="shipToCountry" type="text-medium"/>
        <field name="originFacilityId" type="id"/>
        <field name="shipmentDate" type="date"/>
        <field name="trackingIdNumber" type="text-medium"/>
    </entity>

    <entity entity-name="CustomerDimension" package="co.hotwax.report.dimension.customer" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="customerId" type="id"/>
        <field name="customerType" type="text-long"/>
        <field name="customerFirstName" type="text-medium"/>
        <field name="customerMiddleName" type="text-medium"/>
        <field name="customerLastName" type="text-medium"/>
        <field name="customerName" type="text-medium"/>
        <field name="customerCompanyName" type="text-medium"/>
        <field name="customerDateOfBirth" type="date"/>
        <field name="customerFirstOrderDate" type="date-time"/>
        <field name="customerAge" type="number-integer"/>
        <field name="customerGender" type="text-indicator"/>
        <field name="address1" type="text-long"/>
        <field name="address2" type="text-long"/>
        <field name="city" type="text-medium"/>
        <field name="postalCode" type="text-medium"/>
        <field name="stateProvince" type="text-medium"/>
        <field name="country" type="text-medium"/>
        <field name="region" type="text-medium"/>
        <field name="countryCode" type="text-short"/>
        <field name="areaCode" type="text-short"/>
        <field name="contactNumber" type="text-medium"/>
        <field name="extension" type="text-medium"/>
        <field name="emailAddress" type="text-medium"/>
        <field name="website" type="text-medium"/>
    </entity>

    <entity entity-name="ShipmentDimension" package="co.hotwax.report.dimension.shipment" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="productStoreShipMethId" type="id"/>
        <field name="productStoreId" type="id"/>
        <field name="storeName" type="text-medium"/>
        <field name="carrierPartyId" type="id"/>
        <field name="carrierPartyName" type="text-medium"/>
        <field name="roleTypeId" type="id"/>
        <field name="roleType" type="text-medium"/>
        <field name="shipmentMethodTypeId" type="id"/>
        <field name="shipmentMethodType" type="text-medium"/>
        <field name="carrierServiceCode" type="text-medium"/>
    </entity>

    <extend-entity entity-name="DateDimension" package="co.hotwax.bi.dimension">
        <field name="yearAndQuarter" type="text-medium"/>
    </extend-entity>

    <entity entity-name="CategoryDimension" package="co.hotwax.report.dimension.category" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="productCategoryId" type="id"/>
        <field name="productCategoryName" type="text-medium"/>
        <field name="parentCategoryId" type="id"/>
        <field name="parentCategoryName" type="text-medium"/>
        <field name="productCategoryTypeId" type="id"/>
        <field name="productCategoryTypeDesc" type="text-medium"/>
    </entity>

    <entity entity-name="InternalUserDimension" package="co.hotwax.report.dimension.internal.user" cache="never" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="userLoginId" type="id-long"/>
        <field name="partyId" type="id"/>
        <field name="firstName" type="text-medium"/>
        <field name="middleName" type="text-medium"/>
        <field name="lastName" type="text-medium"/>
        <field name="userName" type="text-medium"/>
    </entity>

    <!-- TODO resolve the warnings for the title in relationships, for now used as is migrated from OFBiz  -->
    <extend-entity entity-name="SalesOrderItemFact" package="co.hotwax.bi.fact.order">
        <field name="unitPrice" type="currency-amount"/>
        <field name="unitCost" type="currency-amount"/>
        <field name="unitListPrice" type="currency-amount"/>
        <field name="inventoryCost" type="currency-amount"/>
        <field name="profitPercentage" type="number-decimal"/>
        <field name="profitMarginPercentage" type="number-decimal"/>
        <field name="storeDimId" type="id"/>
        <field name="customerShipmentDimId" type="id"/>
        <field name="customerDimId" type="id"/>
        <field name="itemPromotion1Amount" type="currency-amount"/>
        <field name="itemPromotion2Amount" type="currency-amount"/>
        <field name="itemPromotion3Amount" type="currency-amount"/>
        <field name="itemPromotion4Amount" type="currency-amount"/>
        <field name="itemPromotion5Amount" type="currency-amount"/>
        <field name="itemTaxAmount" type="currency-amount"/>
        <field name="shipmentDimId" type="id"/>
        <field name="productPromoCode1Id" type="id"/>
        <field name="productPromoCode2Id" type="id"/>
        <field name="productPromoCode3Id" type="id"/>
        <field name="productPromoCode4Id" type="id"/>
        <field name="productPromoCode5Id" type="id"/>
        <field name="quantity" type="number-decimal"/>
        <field name="cancelQuantity" type="number-decimal"/>
        <field name="autoCancelDateDimId" type="id"/>
        <field name="dontCancelSetDateDimId" type="id"/>
        <field name="dontCancelSetUserLogin" type="id-long"/>
        <field name="orderExternalId" type="id"/>
        <field name="promisedDatetime" type="date-time"/>
        <field name="brokeredDateTime" type="date-time"/>
        <field name="brokeredLocationDimId" type="id"/>
        <field name="cancelledOnDatetime" type="date-time"/>
        <field name="cancelledByUserLogin" type="id-long"/>
        <field name="cancellationReason" type="text-long"/>
        <field name="shippedOnDatetime" type="date-time"/>
        <field name="completedDatetime" type="date-time"/>
        <field name="shipGroupFacilityDimId" type="id"/>
        <relationship type="one" fk-name="SOIF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_CUSTOMER_SHIP" related="CustomerShipmentDimension">
            <key-map field-name="customerShipmentDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_CUSTOMER" related="CustomerDimension">
            <key-map field-name="customerDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_SHIPMENT" related="ShipmentDimension">
            <key-map field-name="shipmentDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="AUTO_CNCLDATE_SOIF" title="autoCancel" related="DateDimension">
            <key-map field-name="autoCancelDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="DNT_CNCL_DATE_SOIF" title="dontCancel" related="DateDimension">
            <key-map field-name="dontCancelSetDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_BROKRD_LOCATION" title="brokeredLocation" related="FacilityDimension">
            <key-map field-name="brokeredLocationDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_CNCL_BY_USRLOGN" title="CancelledBy" related="UserLogin">
            <key-map field-name="cancelledByUserLogin" related="userLoginId"/>
        </relationship>
        <relationship type="one" fk-name="SOIF_SHP_GRP_FAC_ID" title="shipGroupFacilityId" related="FacilityDimension">
            <key-map field-name="shipGroupFacilityDimId" related="dimensionId"/>
        </relationship>
        <index name="COMPLETED_DATE_IDX">
            <index-field name="completedDatetime"/>
        </index>
    </extend-entity>

    <entity entity-name="SalesReturnItemFact" package="co.hotwax.report.fact.order" group="analytical">
        <description>A transaction fact entity with return item grain</description>
        <field name="returnId" type="id" is-pk="true"/>
        <field name="returnItemSeqId" type="id" is-pk="true"/>
        <field name="returnDateDimId" type="id"/>
        <field name="returnProductDimId" type="id"/>
        <field name="currencyDimId" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="destinationFacilityDimId" type="id"/>
        <field name="orderId" type="id"/>
        <field name="customerDimId" type="id"/>
        <field name="orderItemSeqId" type="id"/>
        <field name="returnItemType" type="text-long"/>
        <field name="returnItemReason" type="text-medium"/>
        <field name="returnItemQuantity" type="number-decimal"/>
        <field name="returnItemAmount" type="currency-amount"/>
        <field name="actualReturnAmount" type="currency-amount"/>
        <field name="returnItemAmountTotal" type="currency-amount"/>
        <field name="returnShippingAmount" type="currency-amount"/>
        <field name="returnPromotionAmount" type="currency-amount"/>
        <field name="returnTaxAmount" type="currency-amount"/>
        <field name="returnManualAdjustmentAmt" type="currency-amount"/>
        <field name="returnOtherAdjustmentAmount" type="currency-amount"/>
        <field name="refundType" type="text-long"/>
        <field name="completedDatetime" type="date-time"/>
        <relationship type="one" fk-name="SRF_DATE" related="DateDimension">
            <key-map field-name="returnDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRF_CURRENCY" related="CurrencyDimension">
            <key-map field-name="currencyDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRF_PRODUCT" related="ProductDimension">
            <key-map field-name="returnProductDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRF_FACILITY" related="FacilityDimension">
            <key-map field-name="destinationFacilityDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRF_CUSTOMER" related="CustomerDimension">
            <key-map field-name="customerDimId" related="dimensionId"/>
        </relationship>
        <index name="COMPLETED_DATE_IDX">
            <index-field name="completedDatetime"/>
        </index>
    </entity>

    <entity entity-name="FacilityDimension" package="co.hotwax.report.dimension.facility" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="facilityId" type="id"/>
        <field name="facilityTypeId" type="id"/>
        <field name="facilityName" type="text-medium"/>
        <field name="ownerPartyId" type="id"/>
        <field name="ownerPartyName" type="text-medium"/>
        <field name="externalId" type="id"/>
    </entity>

    <entity entity-name="SupplierDimension" package="co.hotwax.report.dimension.Supplier" group="analytical">
        <field name="dimensionId" type="id" is-pk="true"/>
        <field name="supplierId" type="id"/>
        <field name="supplierName" type="text-medium"/>
        <field name="primaryPhoneNumber" type="text-medium"/>
        <field name="faxNumber" type="text-medium"/>
        <field name="address1" type="text-long"/>
        <field name="address2" type="text-long"/>
        <field name="city" type="text-medium"/>
        <field name="stateProvince" type="text-medium"/>
        <field name="country" type="text-medium"/>
        <field name="postalCode" type="text-medium"/>
    </entity>

    <entity entity-name="SalesOrderServiceLevelFact" package="co.hotwax.report.fact.SalesOrderServiceLevelFact" group="analytical">
        <field name="orderId" type="id" is-pk="true"/>
        <field name="orderItemSeqId" type="id" is-pk="true"/>
        <field name="storeDimId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="orderDateDimId" type="id"/>
        <field name="customerDimId" type="id"/>
        <field name="customerShipmentDimId" type="id"/>
        <field name="estimatedDelDateDimId" type="id"/>
        <field name="shippedDateDimId" type="id"/>
        <field name="orderedQuantity" type="number-decimal"/>
        <field name="cancelledQuantity" type="number-decimal"/>
        <field name="shippedQuantity" type="number-decimal"/>
        <field name="orderFulfilTimeStatus" type="text-long">
            <description>This field holds the status of fulfillment of order
                (i.e order was delivered "On Time", "Before" or "After" the estimated delivery date).</description>
        </field>
        <relationship type="one" fk-name="SOSLF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOSLF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOSLF_CUSTOMER" related="CustomerDimension">
            <key-map field-name="customerDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOSLF_ORDER_DATE" title="Order" related="DateDimension">
            <key-map field-name="orderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOSLF_EST_DATE" title="Estimated" related="DateDimension">
            <key-map field-name="estimatedDelDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOSLF_SHIP_DATE" title="Shipped" related="DateDimension">
            <key-map field-name="shippedDateDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="ProductSalesCombinationFact" package="co.hotwax.report.fact.ProductSalesCombinationFact" group="analytical">
        <field name="orderId" type="id" is-pk="true"/>
        <field name="orderItemSeqId" type="id" is-pk="true"/>
        <field name="productDimIdFrom" type="id" is-pk="true"/>
        <field name="productDimIdTo" type="id" is-pk="true"/>
        <field name="categoryDimIdFrom" type="id"/>
        <field name="categoryDimIdTo" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="dateDimId" type="id"/>
        <field name="customerShipmentDimId" type="id"/>
        <field name="quantityProductDimFrom" type="number-decimal"/>
        <field name="quantityProductDimTo" type="number-decimal"/>
        <relationship type="one" fk-name="PSCF_CATEGORY_FROM" title="From" related="CategoryDimension">
            <key-map field-name="categoryDimIdFrom" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PSCF_CATEGORY_TO" title="To" related="CategoryDimension">
            <key-map field-name="categoryDimIdTo" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PSCF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PSCF_DATE" related="DateDimension">
            <key-map field-name="dateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PSCF_CUST_SHIPMENT" related="CustomerShipmentDimension">
            <key-map field-name="customerShipmentDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="SupplierProductFact" package="co.hotwax.report.fact.SupplierProduct" group="analytical">
        <field name="supplierDimId" type="id" is-pk="true"/>
        <field name="supplierProductId" type="id-long"/>
        <field name="productDimId" type="id" is-pk="true"/>
        <field name="dateDimIdFrom" type="id"/>
        <field name="dateDimIdTo" type="id"/>
        <field name="supplierPrefOrderId" type="id"/>
        <field name="minOrderQuantity" type="number-decimal"/>
        <field name="vendorPackageQuantity" type="number-decimal"/>
        <field name="lastPrice" type="currency-amount"/>
        <field name="availableFromDate" type="date-time" is-pk="true"/>
        <relationship type="one" fk-name="SPF_DATE_FROM" title="From" related="DateDimension">
            <key-map field-name="dateDimIdFrom" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SPF_DATE_TO" title="To" related="DateDimension">
            <key-map field-name="dateDimIdTo" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SPF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SPF_SUPPLIER" related="SupplierDimension">
            <key-map field-name="supplierDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="PurchaseOrderItemFact" package="co.hotwax.report.fact.PurchaseOrderItem" group="analytical">
        <field name="orderId" type="id" is-pk="true"/>
        <field name="orderItemSeqId" type="id" is-pk="true"/>
        <field name="orderDateDimId" type="id"/>
        <field name="supplierDimId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="currencyDimId" type="id"/>
        <field name="estimatedDelDateDimId" type="id"/>
        <field name="createdByDimId" type="id"/>
        <field name="quantity" type="number-decimal"/>
        <field name="itemStatus" type="text-long"/>
        <field name="orderStatus" type="text-long"/>
        <field name="itemAction" type="text-long"/>
        <field name="orderAction" type="text-long"/>
        <field name="unitPrice" type="currency-amount"/>
        <field name="netItemAmount" type="currency-amount"/>
        <relationship type="one" title="Order" related="DateDimension">
            <key-map field-name="orderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="esti_Del_Date" title="Estimated" related="DateDimension">
            <key-map field-name="estimatedDelDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" related="SupplierDimension">
            <key-map field-name="supplierDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" related="CurrencyDimension">
            <key-map field-name="currencyDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="CREATED_USERLOGIN" related="InternalUserDimension">
            <key-map field-name="createdByDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <extend-entity entity-name="InventoryItemFact" package="co.hotwax.bi.fact.product">
        <field name="storeDimId" type="id"/>
        <relationship type="one" fk-name="IIF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
    </extend-entity>

    <entity entity-name="ProductInventoryStatusFact" package="co.hotwax.report.fact.ProductInventoryStatusFact" group="analytical">
        <field name="productDimId" type="id" is-pk="true"/>
        <field name="statusDateDimId" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="quantityOnHand" type="number-decimal"/>
        <field name="availableToPromise" type="number-decimal"/>
        <field name="minimumStock" type="number-decimal"/>
        <relationship type="one" fk-name="PISF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PISF_DATE" related="DateDimension">
            <key-map field-name="statusDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PISF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="ShipmentReceiptFact" package="co.hotwax.report.fact.ShipmentReceipt" group="analytical">
        <field name="shipmentId" type="id" is-pk="true"/>
        <field name="receiptId" type="id" is-pk="true"/>
        <field name="recievedDateDimId" type="id"/>
        <field name="inventoryItemId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="facilityDimId" type="id"/>
        <field name="purchaseOrderDateDimId" type="id"/>
        <field name="purchaseOrderId" type="id"/>
        <field name="purchaseOrderItemSeqId" type="id"/>
        <field name="quantityAccepted" type="number-decimal"/>
        <field name="quantityRejected" type="number-decimal"/>
        <field name="orderUnitCost" type="currency-amount"/>
        <field name="orderAmount" type="currency-amount"/>
        <field name="receiptUnitCost" type="currency-amount"/>
        <field name="receiptAmount" type="currency-amount"/>
        <field name="costVariance" type="currency-amount"/>
        <field name="orderedQuantity" type="number-decimal"/>
        <relationship type="one" fk-name="SRPF_DATE" title="Recieved" related="DateDimension">
            <key-map field-name="recievedDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRPF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRPF_STORE" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRPF_PODATE" title="PurchaseOrder" related="DateDimension">
            <key-map field-name="purchaseOrderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SRPF_FACILITY" related="FacilityDimension">
            <key-map field-name="facilityDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <entity entity-name="ProductFacilityFact" package="co.hotwax.report.fact.ProductFacility" group="analytical">
        <field name="productFacilityDateDimId" type="id" is-pk="true"/>
        <field name="productDimId" type="id" is-pk="true"/>
        <field name="facilityDimId" type="id" is-pk="true"/>
        <field name="minimumStock" type="number-decimal"/>
        <field name="reorderQuantity" type="number-decimal"/>
        <field name="daysToShip" type="number-decimal"/>
        <field name="lastInventoryCount" type="number-decimal"/>
        <relationship type="one" fk-name="PFF_DATE" title="ProductFacility" related="DateDimension">
            <key-map field-name="productFacilityDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PFF_PRODUCT" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PPF_FACILITY" related="FacilityDimension">
            <key-map field-name="facilityDimId" related="dimensionId"/>
        </relationship>
    </entity>

    <!-- TODO resolve the warnings for the title in relationships, for now used as is migrated from OFBiz  -->
    <entity entity-name="SalesOrderItemPromiseFact" package="co.hotwax.bi.fact.order" group="analytical">
        <description>The purpose for this new fact entity within OLAP is to capture the details of promise made against scheduled inbound shipments</description>
        <field name="factId" type="id" is-pk="true"/>
        <field name="orderId" type="id"/>
        <field name="orderItemSeqId" type="id"/>
        <field name="shipGroupSeqId" type="id"/>
        <field name="factStart" type="date-time"/>
        <field name="factEnd" type="date-time"/>
        <field name="factAction" type="text-indicator"/>
        <field name="priorFactId" type="id"/>
        <field name="actionReasonEnumId" type="id"/>
        <field name="quantityDiff" type="number-decimal"/>
        <field name="cancelQtyDiff" type="id"/>
        <field name="quantity" type="number-decimal"/>
        <field name="quantityNotAvailable" type="number-decimal"/>
        <field name="promsdFromShpmtDimId" type="id" is-pk="true"/>
        <field name="promisedDateDimId" type="id"/>
        <field name="productDimId" type="id"/>
        <field name="fromFacilityDimId" type="id"/>
        <field name="orderDateDimId" type="id"/>
        <relationship type="one" fk-name="ORDER_DATE_SOIPF" related="DateDimension">
            <key-map field-name="orderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PRODUCT_SOIPF" related="ProductDimension">
            <key-map field-name="productDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="FRM_FCLTY_SOIPF" related="FacilityDimension">
            <key-map field-name="fromFacilityDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PROMSD_DATE_SOIPF" title="promised" related="DateDimension">
            <key-map field-name="promisedDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="PRMSD_SHPMT_SOIPF" related="ShipmentDimension">
            <key-map field-name="promsdFromShpmtDimId" related="dimensionId"/>
        </relationship>
        <relationship type="many" fk-name="PRIOR_PRMS_SOIPF" related="SalesOrderItemPromiseFact">
            <key-map field-name="priorFactId" related="factId"/>
        </relationship>
    </entity>

    <entity entity-name="SalesOrderFact" package="co.hotwax.bi.fact.order" group="analytical">
        <description>The purpose for this new fact entity within OLAP model is to capture the details on order header level</description>
        <field name="orderId" type="id" is-pk="true"/>
        <field name="statusId" type="id"/>
        <field name="orderDateDimId" type="id"/>
        <field name="orderName" type="text-medium"/>
        <field name="entryDate" type="date-time"/>
        <field name="salesChannelEnumId" type="id"/>
        <field name="externalId" type="id-long"/>
        <field name="posOrderId" type="id-long"/>
        <field name="originFacilityDimId" type="id"/>
        <field name="storeDimId" type="id"/>
        <field name="customerDimId" type="id"/>
        <field name="shipping" type="currency-amount"/>
        <field name="shippingTax" type="currency-amount"/>
        <field name="taxAmount" type="currency-amount"/>
        <field name="subTotal" type="currency-amount"/>
        <field name="grandTotal" type="currency-amount"/>
        <field name="totalQuantity" type="number-decimal"/>
        <field name="shipToCity" type="text-medium"/>
        <field name="shipToPostalCode" type="text-medium"/>
        <field name="shipToState" type="text-medium"/>
        <field name="shipToCountry" type="text-medium"/>
        <field name="billToCity" type="text-medium"/>
        <field name="billToPostalCode" type="text-medium"/>
        <field name="billToState" type="text-medium"/>
        <field name="billToCountry" type="text-medium"/>
        <relationship type="one" fk-name="SOF_ORDR_DATE" related="DateDimension">
            <key-map field-name="orderDateDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOF_FACILITY" related="FacilityDimension">
            <key-map field-name="originFacilityDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOF_STORE_DIM" related="StoreDimension">
            <key-map field-name="storeDimId" related="dimensionId"/>
        </relationship>
        <relationship type="one" fk-name="SOF_CUSTOMER" related="CustomerDimension">
            <key-map field-name="customerDimId" related="dimensionId"/>
        </relationship>
    </entity>
</entities>

